<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å‘å¸ƒä½œå“</title>
    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&display=swap"
      rel="stylesheet"
    />
    <!-- Stylesheet -->
    <link rel="stylesheet" type="text/css" href="/static/css/addbook.css">
  </head>
  <body>
  <div class="addbook">
      <br><br><br><br><br>
      <div class="addbook-box"><br>
        <form action="" method="post" enctype="multipart/form-data" autocomplete="on" onsubmit="return toVaild()">
            {% csrf_token %}
            <p style="text-align:center">&nbsp;&nbsp;<input type="text" name="bookname" class="input-text" placeholder="ä¹¦å"/>&nbsp;&nbsp;</p>
            <p style="text-align:center">&nbsp;&nbsp;<input type="text" name="author" class="input-text" placeholder="ä½œè€…"/>&nbsp;&nbsp;</p>
            <p style="text-align:center">&nbsp;&nbsp;<input type="number" min="0" name="price" class="input-text" placeholder="ä»·æ ¼"/>&nbsp;&nbsp;</p>


            <p style="text-align:center">
                <label>å¥‡å¹»ç„å¹»</label><input type="checkbox" name="kind-1" value="å¥‡å¹»ç„å¹»" onclick="return checkCount(this)"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label>æ­¦ä¾ ä»™ä¾ </label><input type="checkbox" name="kind-2" value="æ­¦ä¾ ä»™ä¾ " onclick="return checkCount(this)"/><br>
                <label>å†å²å†›äº‹</label><input type="checkbox" name="kind-3" value="å†å²å†›äº‹" onclick="return checkCount(this)"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label>éƒ½å¸‚å¨±ä¹</label><input type="checkbox" name="kind-4" value="éƒ½å¸‚å¨±ä¹" onclick="return checkCount(this)"/><br>
                <label>ç«æŠ€åŒäºº</label><input type="checkbox" name="kind-5" value="ç«æŠ€åŒäºº" onclick="return checkCount(this)"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label>ç§‘å¹»æ¸¸æˆ</label><input type="checkbox" name="kind-6" value="ç§‘å¹»æ¸¸æˆ" onclick="return checkCount(this)"/><br>
                <label>æ‚¬ç–‘çµå¼‚</label><input type="checkbox" name="kind-7" value="æ‚¬ç–‘çµå¼‚" onclick="return checkCount(this)"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label>æ¬¡å…ƒå¹»æƒ³</label><input type="checkbox" name="kind-8" value="æ¬¡å…ƒå¹»æƒ³" onclick="return checkCount(this)"/><br>
                <label>ç§‘æ™®æ•™è‚²</label><input type="checkbox" name="kind-9" value="ç§‘æ™®æ•™è‚²" onclick="return checkCount(this)"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label>æœŸåˆŠè¯»ç‰©</label><input type="checkbox" name="kind-10" value="æœŸåˆŠè¯»ç‰©" onclick="return checkCount(this)"/><br>
            </p>
           <center>
                <div class="upload-file">
                    <input type="file" class="input-file" id="input-file1" name="bookimg" accept="image/*">
                    <span class="tip" id="tip1">ä¸Šä¼ å°é¢å›¾ç‰‡</span>
                </div>
           </center>
            <br>
           <center>
               <div class="upload-file">
                   <input type="file" class="input-file" id="input-file2" name="bookdata" accept="text/plain">
                   <span class="tip" id="tip2">ä¸Šä¼ æ–‡æœ¬æ–‡ä»¶(txtæ–‡ä»¶)</span>
               </div>
           </center>
            <br>

            <center>

                <textarea name="jianjie" class="jianjie"  id="jianjie" placeholder="ç®€ä»‹"></textarea>

            </center>



            <input type="text" style="display:none;" name="fabu-id" value="{{request.session.id}}"><br>
            <p style="text-align:center"><input type="submit" value="å‘å¸ƒ" class="bt"/></p>


        </form>



    </div>

<br><br><br><br><br>
</div>


    <!-- Script -->
    <script type="text/javascript">
 // è®¾ç½®åªèƒ½æœ€å¤šé€‰æ‹©ä¸‰ç§ç±»å‹
    var checkedCount = 0;

    function checkCount(obj) {
        if (obj.checked === true) {
            if (checkedCount >= 3) {
                alert("æœ€å¤šåªèƒ½é€‰æ‹©3ç§ç±»å‹å“¦ à«®â‚â™¡>ğ–¥¦< â‚áƒ ");
                return false;
            }
            checkedCount++;
        } else {
            checkedCount--;
        }

        return true

    }

    // formæäº¤å‰éªŒè¯ï¼Œæœ€å°‘é€‰æ‹©ä¸€ç§èµ„è®¯ç±»å‹
    function toVaild() {
        if (checkedCount === 0) {
            alert("è¯·é€‰æ‹©è‡³å°‘ä¸€ç§ç±»å‹å“¦");
            return false;
        }
        return true;
    }
   </script>
    <script type="text/javascript">
    var fileInput1 = document.getElementById("input-file1");
    var tip1 = document.getElementById("tip1");

    fileInput1.addEventListener('change',function(e){ //ç›‘å¬changeäº‹ä»¶ï¼Œé€‰æ‹©æ–‡ä»¶åè§¦å‘
      if(this.files.length === 1){ //å¤„ç†æ–‡ä»¶å
        tip1.textContent = this.files[0].name;
      }
      else {
        tip1.textContent = 'å·²é€‰æ‹© ' + this.files.length + ' ä¸ªæ–‡ä»¶';
      }
    })
</script>
     <script type="text/javascript">
    var fileInput2 = document.getElementById("input-file2");
    var tip2 = document.getElementById("tip2");

    fileInput2.addEventListener('change',function(e){ //ç›‘å¬changeäº‹ä»¶ï¼Œé€‰æ‹©æ–‡ä»¶åè§¦å‘
      if(this.files.length === 1){ //å¤„ç†æ–‡ä»¶å
        tip2.textContent = this.files[0].name;
      }
      else {
        tip2.textContent = 'å·²é€‰æ‹© ' + this.files.length + ' ä¸ªæ–‡ä»¶';
      }
    })
</script>

  <script src="/static/js/mantianfeihua.js"></script>


  	{% if messages %}
		<script>
        {% for msg in messages %}
            alert('{{ msg.message }}');
        {% endfor %}
        </script>
		{% endif %}

  </body>
</html>